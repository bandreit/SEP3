@page "/BusinessOwnerAfterLogIn"
<h3>BusinessOwnerAfterLogIn</h3>
@using Syncfusion.Blazor.PivotView
@using Client.Models
@using Client.Data
@using Client.Data.Impl
@inject IBusinessOwnerService BusinessOwnerService
@inject IBusinessService BusinessService

<div class="control-section">
    <div class="content-wrapper">
        <SfPivotView TValue="PivotProductDetails" Height="340" EnableValueSorting=true>
            <PivotViewDataSourceSettings DataSource="@Data" ExpandAll=false EnableSorting=true>
                <PivotViewColumns>
                    <PivotViewColumn Name="Year"></PivotViewColumn>
                    <PivotViewColumn Name="Quarter"></PivotViewColumn>
                </PivotViewColumns>
                <PivotViewRows>
                    <PivotViewRow Name="Country"></PivotViewRow>
                    <PivotViewRow Name="Products"></PivotViewRow>
                </PivotViewRows>
                <PivotViewValues>
                    <PivotViewValue Name="Sold" Caption="Units Sold"></PivotViewValue>
                    <PivotViewValue Name="Amount" Caption="Sold Amount"></PivotViewValue>
                </PivotViewValues>
                <PivotViewFormatSettings>
                    <PivotViewFormatSetting Name="Amount" Format="C0" UseGrouping=true></PivotViewFormatSetting>
                </PivotViewFormatSettings>
            </PivotViewDataSourceSettings>
            <PivotViewGridSettings ColumnWidth="120"></PivotViewGridSettings>
        </SfPivotView>
    </div>
</div>
<style>
    .e-pivotview {
        min-height: 200px;
    }
</style>
@code {
    public BusinessOwner businessOwner;
    public List<Business> businesses;

    protected override async Task OnInitializedAsync(string id)
    {
        businessOwner = await BusinessOwnerService.GetBusinessOwner(id);
        List<Business> businessToShow = businessOwner;
    }

}